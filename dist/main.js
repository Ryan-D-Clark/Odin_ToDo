(()=>{"use strict";var e={d:(t,n)=>{for(var d in n)e.o(n,d)&&!e.o(t,d)&&Object.defineProperty(t,d,{enumerable:!0,get:n[d]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{A:()=>p});let t=document.getElementById("content-container"),n=document.getElementById("refresh"),d=document.getElementById("pname"),s=document.getElementById("ppriority"),c=document.getElementById("pdate"),l=document.getElementById("pdescription"),a=document.getElementsByClassName("completed-task"),i=document.getElementsByClassName("incomplete-task");n.addEventListener("click",(function(){console.log(p);for(let e=0;e<p.length;e++)localStorage.setItem(e,JSON.stringify(p[e]));r()}));class o{constructor(e,t,n,d,s,c){this.name=e,this.priority=t,this.date=n,this.description=d,this.checkedTasks=s,this.tasks=c}}function r(){const e=[];let t=Object.keys(localStorage);t.reverse(),console.log(t);for(let n of t)e.push(JSON.parse(localStorage.getItem(n)));return console.log(e),e}function m(e){t.innerHTML="";for(let n in e){let d=document.createElement("div");switch(d.classList.add("project"),e[n].priority){case"high":d.classList.add("high");break;case"medium":d.classList.add("medium");break;case"low":d.classList.add("low")}let s=document.createElement("div");s.textContent=e[n].name,s.className="ptitle",d.appendChild(s);let c=document.createElement("div");c.textContent=`"${e[n].description}"`,c.className="pdescription",d.appendChild(c);let l=document.createElement("div");l.innerHTML=`<br>Due Date: ${e[n].date}<br>`,l.className="pdate",d.appendChild(l);let a=document.createElement("div");a.innerText="Completed Tasks:",a.className="text-title",d.appendChild(a);let i=document.createElement("div");i.id="checked-container";for(let t in e[n].checkedTasks){let d=document.createElement("div"),s=e[n].checkedTasks[t];d.addEventListener("click",(function(){"unchecked-container"==d.parentNode.id?(i.append(d),e[n].checkedTasks.push(s),e[n].tasks=e[n].tasks.filter((e=>e!==s))):(o.append(d),e[n].tasks.push(s),e[n].checkedTasks=e[n].checkedTasks.filter((e=>e!==s))),console.log(e[n])})),d.classList.add("task"),d.innerText=e[n].checkedTasks[t],i.appendChild(d)}d.appendChild(i),a=document.createElement("div"),a.innerText="Uncompleted Tasks:",a.className="text-title",d.appendChild(a);let o=document.createElement("div");o.id="unchecked-container";for(let t in e[n].tasks){let d=document.createElement("div"),s=e[n].tasks[t];d.addEventListener("click",(function(){"checked-container"==d.parentNode.id?(o.append(d),e[n].tasks.push(s),e[n].checkedTasks=e[n].checkedTasks.filter((e=>e!==s))):(i.append(d),e[n].checkedTasks.push(s),e[n].tasks=e[n].tasks.filter((e=>e!==s))),console.log(e[n])})),d.classList.add("task"),d.innerText=e[n].tasks[t],o.appendChild(d)}d.appendChild(o),t.appendChild(d)}}let p=r();m(p);let u=document.getElementById("burger-icon"),k=document.getElementById("nav"),h=document.getElementById("side-nav"),g=!1,y=document.getElementById("plus"),E=(document.getElementById("side-projects"),document.getElementById("side-today")),v=(document.getElementById("side-weekly"),document.getElementById("side-tasks"),document.getElementById("project-form")),f=document.getElementById("task-name"),L=document.getElementById("task-add"),I=document.getElementById("task-list"),B=document.getElementById("form-close"),T=document.getElementById("create-project");y.addEventListener("click",(function(){v.showModal()})),T.addEventListener("click",(function(){!function(){let e=[],t=[];for(let t=0;t<=a.length-1;t++)e.push(a[t].childNodes[0].nodeValue);for(let e=0;e<=i.length-1;e++)t.push(i[e].childNodes[0].nodeValue);let n=new o(d.value,s.value,c.value,l.value,e,t),p=Object.keys(localStorage);localStorage.setItem(p.length,JSON.stringify(n)),m(r())}(),v.close()})),L.addEventListener("click",(function(){if(""!=f.value){let e=document.createElement("li");e.classList.add("incomplete-task");let t=document.createElement("span");t.innerHTML="x",t.className="remove",e.textContent=f.value,e.addEventListener("click",(function(){e.classList.contains("incomplete-task")?(e.classList.remove("incomplete-task"),e.classList.add("completed-task")):(e.classList.remove("completed-task"),e.classList.add("incomplete-task"))})),t.addEventListener("click",(function(){this.parentElement.remove()})),e.appendChild(t),I.appendChild(e),f.value=""}else alert("Task cannot be empty")})),B.addEventListener("click",(function(){v.close()})),u.addEventListener("click",(function(){0==g?(k.style.width="80%",h.style.borderRight="0.5px solid grey",document.body.style.marginLeft="20%",h.style.width="20%",g=!0):(k.style.width="100%",h.style.borderRight="",document.body.style.marginLeft="0",h.style.width="0",g=!1)})),E.addEventListener("click",(function(){t.innerHTML="",console.log(p)}))})();